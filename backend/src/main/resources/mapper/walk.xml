<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.pet.dao.WalkDao">
	
	<insert id="createWalk" parameterType="WalkDto" useGeneratedKeys="true" keyColumn="wid" >
		insert into walk(peid, w_date, w_flag)
		values(#{peid}, now(), 0);
	</insert>

	<update id="saveRoute" parameterType="map">
		update walk
		set w_img=#{url}
		where wid=#{wid};
	</update>

	<update id="saveEnd" parameterType="map">
		update walk
		set w_distance=#{w_distance}, w_time=#{w_time}
		where wid=#{wid};
	</update>

</mapper>